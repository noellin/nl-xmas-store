(function(t){function a(a){for(var s,n,c=a[0],o=a[1],l=a[2],u=0,v=[];u<c.length;u++)n=c[u],r[n]&&v.push(r[n][0]),r[n]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);d&&d(a);while(v.length)v.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],s=!0,c=1;c<e.length;c++){var o=e[c];0!==r[o]&&(s=!1)}s&&(i.splice(a--,1),t=n(n.s=e[0]))}return t}var s={},r={app:0},i=[];function n(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=s,n.d=function(t,a,e){n.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)n.d(e,s,function(a){return t[a]}.bind(null,s));return e},n.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(a,"a",a),a},n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},n.p="/nl-xmas-store/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=a,c=c.slice();for(var l=0;l<c.length;l++)a(c[l]);var d=o;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"2a57":function(t,a,e){"use strict";var s=e("51fe"),r=e.n(s);r.a},"37c2":function(t,a,e){t.exports=e.p+"img/cs3.56807b06.jpg"},"51fe":function(t,a,e){},5380:function(t,a,e){"use strict";var s=e("88fe"),r=e.n(s);r.a},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("097d");var s=e("2b0e"),r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[],n={name:"App"},c=n,o=(e("5c0b"),e("2877")),l=Object(o["a"])(c,r,i,!1,null,null,null);l.options.__file="App.vue";var d=l.exports,u=(e("ac6a"),e("2f62")),v=e("bc3a"),p=e.n(v);s["a"].use(u["a"]);var m=new u["a"].Store({strict:!0,state:{cart:{carts:[]},isLoading:!1},actions:{getCart:function(t){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("noelstore","/cart");t.commit("LOADING",!0),p.a.get(a).then(function(a){t.commit("GETCART",a.data.data),t.commit("LOADING",!1)})},removeCart:function(t,a){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("noelstore","/cart/").concat(a);t.commit("LOADING",!0),p.a.delete(e).then(function(a){t.dispatch("getCart"),t.commit("LOADING",!1)})},addtoCart:function(t,a){var e=a.id,s=a.qty;if(0==s)alert("請選擇商品數量");else{var r="".concat("https://vue-course-api.hexschool.io","/api/").concat("noelstore","/cart"),i={product_id:e,qty:s};p.a.post(r,{data:i}).then(function(a){t.dispatch("getCart"),alert("已加入購物車！")})}},removeAllCart:function(t){t.commit("LOADING",!0),t.state.cart.carts.forEach(function(a){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("noelstore","/cart/").concat(a.id);p.a.delete(e).then(function(a){t.dispatch("getCart"),t.commit("LOADING",!1)})})},addCoupon:function(t,a){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("noelstore","/coupon"),s={code:a};t.commit("LOADING",!0),p.a.post(e,{data:s}).then(function(a){alert(a.data.message),t.dispatch("getCart"),t.commit("LOADING",!1)})}},mutations:{LOADING:function(t,a){t.isLoading=a},GETCART:function(t,a){t.cart=a}},getters:{isLoading:function(t){return t.isLoading},cart:function(t){return t.cart}}}),f=e("8c4f"),_=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[e("router-link",{staticClass:"nav-item nav-link store-name",attrs:{to:"/"}},[t._v("NL XMAS Store")]),t._m(0),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNavAltMarkup"}},[e("div",{staticClass:"navbar-nav ml-4"},[e("div",{on:{click:function(a){t.hideMenu()}}},[e("router-link",{staticClass:"nav-item nav-link mr-2",attrs:{to:"/"}},[t._v("Home")])],1),e("div",{on:{click:function(a){t.hideMenu()}}},[e("router-link",{staticClass:"nav-item nav-link mr-2",attrs:{to:"/faq"}},[t._v("FAQ")])],1),e("div",{on:{click:function(a){t.hideMenu()}}},[e("router-link",{staticClass:"nav-item nav-link mr-2",attrs:{to:"/allitem"}},[t._v("購物去")])],1)])])],1),e("div",{staticClass:"cart-sm"},[e("div",{staticClass:"cart-icon",on:{click:function(a){t.isShow=!t.isShow}}},[e("i",{staticClass:"fas fa-shopping-cart"}),0!==t.cart.carts.length?e("i",{staticClass:"fas fa-circle"}):t._e()]),t.isShow?e("div",{staticClass:"cart-box"},[e("div",{staticClass:"row justify-content-center bg-light border rounded py-3"},[e("div",{staticClass:"col-md-12"},[t._m(1),e("div",{staticClass:"u-close",on:{click:function(a){t.isShow=!1}}},[e("span"),e("span")]),e("table",{staticClass:"table table-sm my-0"},[e("tbody",[0==t.cart.carts.length?e("tr",[t._v("購物車還沒有東西哦！")]):t._e(),t._l(t.cart.carts,function(a,s){return e("tr",{key:s},[e("td",[e("button",{staticClass:"btn bg-transparent btn-sm d-none d-md-block",attrs:{type:"button"},on:{click:function(e){t.removeCart(a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})])]),e("td",{staticClass:"text-info u-cart-title"},[t._v(t._s(a.product.title))]),e("td",[t._v(t._s(a.qty)+t._s(a.product.unit))]),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(a.final_total)))])])})],2)]),0!==t.cart.carts.length?e("router-link",{staticClass:"nav-item text-white",attrs:{to:"/createOrder"}},[e("button",{staticClass:"btn btn-danger d-block mx-auto w-100",attrs:{type:"button"},on:{click:function(a){t.isShow=!t.isShow}}},[t._v("結帳去")])]):t._e(),0==t.cart.carts.length?e("button",{staticClass:"btn btn-danger d-block text-white mx-auto w-100 mt-2",attrs:{type:"button"},on:{click:function(a){t.isShow=!t.isShow}}},[t._v("繼續購物")]):t._e()],1)])]):t._e()]),e("router-view"),e("footer",{staticClass:"bg-light py-4 text-center"},[e("div",{staticClass:"container"},[e("router-link",{staticClass:"nav-item nav-link store-name",attrs:{to:"/"}},[t._v("NL XMAS Store")]),t._m(2),t._m(3),e("div",[t._v("練習用作品 非商業用途")])],1)])],1)},h=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"h5"},[e("b",[t._v("購物車清單")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"h5 text-dark"},[t._v("地址：Rovaniemi-聖誕老人村 "),e("br"),t._v("營業時間：12月25日 00:00-24:00\n")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"social-bar my-4"},[e("a",{staticClass:"nav-item text-dark",attrs:{href:"#"}},[e("i",{staticClass:"fab fa-facebook-square"})]),e("a",{staticClass:"nav-item text-dark",attrs:{href:"#"}},[e("i",{staticClass:"fab fa-instagram"})]),e("a",{staticClass:"nav-item text-dark",attrs:{href:"#"}},[e("i",{staticClass:"fab fa-google-plus-square"})]),e("a",{staticClass:"nav-item text-dark",attrs:{href:"#"}},[e("i",{staticClass:"fab fa-twitter-square"})])])}],C=e("be94"),g=e("1157"),b=e.n(g),x={data:function(){return{isShow:!1}},methods:Object(C["a"])({hideMenu:function(){b()("#navbarNavAltMarkup").collapse("hide")}},Object(u["b"])(["getCart"]),{removeCart:function(t){this.$store.dispatch("removeCart",t)}}),computed:Object(C["a"])({},Object(u["c"])(["cart","isLoading"])),created:function(){this.getCart(),console.log("https://vue-course-api.hexschool.io"),console.log("noelstore")}},y=x,k=(e("cccb"),Object(o["a"])(y,_,h,!1,null,null,null));k.options.__file="Home.vue";var w=k.exports,O=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t._m(0),e("router-view")],1)},$=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"row justify-content-center u-over-hidden"},[s("div",{staticClass:"u-thumb-bg"}),s("div",{staticClass:"col-md-7 col-sm-9 mx-auto"},[s("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleIndicators","data-ride":"carousel"}},[s("ol",{staticClass:"carousel-indicators"},[s("li",{staticClass:"active",attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":"0"}}),s("li",{attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}}),s("li",{attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":"2"}})]),s("div",{staticClass:"carousel-inner"},[s("div",{staticClass:"carousel-item active"},[s("img",{staticClass:"d-block w-100",attrs:{src:e("5cf4"),alt:"First slide"}})]),s("div",{staticClass:"carousel-item"},[s("img",{staticClass:"d-block w-100",attrs:{src:e("e658"),alt:"Second slide"}})]),s("div",{staticClass:"carousel-item"},[s("img",{staticClass:"d-block w-100",attrs:{src:e("37c2"),alt:"Third slide"}})])]),s("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"prev"}},[s("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sr-only"},[t._v("Previous")])]),s("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"next"}},[s("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sr-only"},[t._v("Next")])])])])])}],P={data:function(){return{}}},j=P,E=(e("ace4"),Object(o["a"])(j,O,$,!1,null,null,null));E.options.__file="Shop.vue";var L=E.exports,I=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-12"},[e("br"),e("ul",{staticClass:"nav nav-tabs w-100"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",class:{active:""==t.selected},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.selected="",t.getProducts(1)}}},[t._v("全部商品")])]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",class:{active:"魯蛇"==t.selected},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.selected="魯蛇",t.getProducts("all")}}},[t._v("魯蛇專區")])]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",class:{active:"情人"==t.selected},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.selected="情人",t.getProducts("all")}}},[t._v("情人專區")])]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",class:{active:"團聚"==t.selected},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.selected="團聚",t.getProducts("all")}}},[t._v("團聚專區")])])]),e("div",{staticClass:"row mt-4"},t._l(t.filtData,function(a){return e("div",{key:a.id,staticClass:"col-md-4 mb-4"},[e("div",{staticClass:"card border-0 shadow"},[e("div",{staticClass:"u-item-img",style:{backgroundImage:"url("+a.imageUrl+")"}},[e("router-link",{staticClass:"u-item-cover",attrs:{to:"/product/"+a.id}},[e("div",{staticClass:"u-item-btn"},[t._v("See More")])])],1),e("div",{staticClass:"card-body"},[e("h6",{staticClass:"card-title mt-2"},[e("router-link",{staticClass:"text-dark font-weight-bold",attrs:{to:"/product/"+a.id}},[t._v("\n\t\t            \t"+t._s(a.title)+"\n\t\t            ")])],1),e("p",{staticClass:"card-text"},[t._v(t._s(a.content))]),a.price?e("div",{staticClass:"h6 text-right"},[t._v(t._s(t._f("currency")(a.price)))]):t._e()])])])})),""==t.selected?e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination justify-content-center"},[t.allPage?t._e():e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){a.preventDefault(),t.getProducts(t.pagination.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")]),e("span",{staticClass:"sr-only"},[t._v("Previous")])])]),t._l(t.pagination.total_pages,function(a){return t.allPage?t._e():e("li",{key:a,staticClass:"page-item",class:{active:a==t.pagination.current_page}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.getProducts(a)}}},[t._v(t._s(a))])])}),t.allPage?t._e():e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){a.preventDefault(),t.getProducts(t.pagination.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")]),e("span",{staticClass:"sr-only"},[t._v("Next")])])]),e("li",{staticClass:"page-item"},[t.allPage?t._e():e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.getProducts("all")}}},[t._v("See All")])]),e("li",{staticClass:"page-item"},[t.allPage?e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.getProducts(1)}}},[t._v("Back to pages")]):t._e()])],2)]):t._e()])])],1)},N=[],S={data:function(){return{isLoading:!1,products:[],selected:"",pagination:{},allPage:!1}},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("noelstore","/products");"all"==t?(e+="/all",a.allPage=!0):(e+="?page=".concat(t),a.allPage=!1),a.isLoading=!0,this.$http.get(e).then(function(e){a.products=e.data.products.filter(function(t){return 1==t.is_enabled}),a.isLoading=!1,"all"!==t?a.pagination=e.data.pagination:a.products=a.products.reverse()})}},computed:{filtData:function(){var t=this;return""==t.selected?t.products:t.products.filter(function(a){return a.category==t.selected})}},mounted:function(){this.getProducts()}},A=S,T=(e("9e68"),Object(o["a"])(A,I,N,!1,null,null,null));T.options.__file="AllItem.vue";var q=T.exports,D=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("div",{staticClass:"container d-flex"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:"/"}},[t._v("NL XMAS Store")])],1),e("li",{staticClass:"breadcrumb-item"},[t._v(t._s(t.product.category)+"系列")]),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.product.title))])])])]),e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center my-4"},[e("div",{staticClass:"col-md-7 order-md-2 text-center"},[e("img",{staticClass:"img-fluid shadow",attrs:{src:t.product.imageUrl,alt:""}})]),e("div",{staticClass:"col-md-5 order-md-1 mt-4 mt-md-0"},[e("h1",{staticClass:"h3 mb-4"},[t._v(t._s(t.product.title))]),e("div",{staticClass:"d-flex justify-content-end"},[t.product.price?t._e():e("div",[t._v("$"+t._s(t.product.origin_price))]),t.product.price?e("del",{staticClass:"mr-2"},[t._v("原價"+t._s(t._f("currency")(t.product.origin_price)))]):t._e(),t.product.price?e("div",{staticClass:"h5 text-danger"},[t._v("特價"+t._s(t._f("currency")(t.product.price)))]):t._e()]),e("hr"),t._m(0),e("div",{staticClass:"d-flex my-4"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control mr-2",attrs:{name:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.product,"num",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"0",selected:"",disabled:""}},[t._v("請選擇商品數量")]),t._l(10,function(a){return e("option",{key:a,domProps:{value:a}},[t._v("選購 "+t._s(a)+" "+t._s(t.product.unit))])})],2),e("button",{staticClass:"btn btn-primary u-pointer",on:{click:function(a){t.addtoCart(t.product.id,t.product.num)}}},[e("i",{staticClass:"fas fa-plus-circle"}),t._v("\n\t\t\t\t\t\t加入購物車\n\t\t\t\t\t")])])])]),e("div",{staticClass:"row justify-content-center mb-4"},[e("div",{staticClass:"col-10"},[e("hr"),e("div",{staticClass:"u-desc text-lift"},[e("h4",{},[t._v("商品描述")]),t.product.description?e("h5",[t._v(t._s(t.product.description))]):t._e(),t.product.content?e("h5",[t._v(t._s(t.product.content))]):t._e(),e("br"),e("p",[t._v("本店產品皆由聖誕老公公精心挑選，售出概不退回。")])]),e("div",{staticClass:"text-center"},[e("router-link",{staticClass:"btn btn-info text-white",attrs:{to:"/faq"}},[t._v("購物指南")])],1),e("div",{staticClass:"text-right"},[e("a",{staticClass:"btn btn-info text-white mt-2",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.beforePath()}}},[t._v("Back")])])])])])],1)},M=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"d-flex justify-content-around mx-4"},[e("div",{staticClass:"u-pointer"},[e("i",{staticClass:"far fa-thumbs-up"}),t._v("評價")]),e("div",{staticClass:"u-pointer"},[e("i",{staticClass:"fas fa-pencil-ruler"}),t._v("尺寸")]),e("div",{staticClass:"u-pointer"},[e("i",{staticClass:"far fa-star"}),t._v("收藏")])])}],G={data:function(){return{isLoading:!1,itemId:"",product:{},randomUrl:[]}},methods:{getProduct:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("noelstore","/product/").concat(t.itemId);t.isLoading=!0,this.$http.get(a).then(function(a){t.product=a.data.product,t.product.num=0,t.isLoading=!1})},randomImg:function(){var t=this,a=this,e="https://picsum.photos/480/360/?random";a.isLoading=!0;for(var s=function(s){t.$http.get(e).then(function(t){a.$set(a.randomUrl,s,t.request.responseURL),a.isLoading=!1})},r=0;r<3;r++)s(r)},addtoCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("addtoCart",{id:t,qty:a})},beforePath:function(){this.$router.back()}},created:function(){this.itemId=this.$route.params.itemId,this.getProduct(),this.randomImg(),document.body.scrollTop=350,document.documentElement.scrollTop=350}},F=G,U=(e("5380"),Object(o["a"])(F,D,M,!1,null,null,null));U.options.__file="SingleItem.vue";var R=U.exports,X=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"u-faq-bg"},[e("div",{staticClass:"container py-4"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-12"},[t._m(0),e("div",{staticClass:"mb-4",attrs:{id:"accordion"}},[t._m(1),t._m(2),e("div",{staticClass:"card"},[t._m(3),e("div",{staticClass:"collapse",attrs:{id:"collapseThree","aria-labelledby":"headingThree","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[t._v("\n\t\t\t\t      \t我們有魯蛇專區；聖誕節一個人的你可以擺脫孤單"),e("br"),t._v("\n\t\t\t\t\t\t\t\t我們也有情人專區；欸欸聖誕節了，買男友嗎?"),e("br"),t._v("\n\t\t\t\t\t\t\t\t當然我們也有跟朋友一起歡聚的團聚專區，聖誕節就是要交換禮物嘛"),e("br"),e("router-link",{staticClass:"btn btn-info text-white mt-2",attrs:{to:"/"}},[t._v("選購去")])],1)])]),e("div",{staticClass:"card"},[t._m(4),e("div",{staticClass:"collapse",attrs:{id:"collapseFour","aria-labelledby":"headingFour","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[t._v("\n\t\t\t\t      \tI gave you everything. You gave me anything"),e("br"),t._v("\n\t\t\t\t\t\t\t\t偷偷告訴你，輸入happynewyears會打折"),e("br"),e("router-link",{staticClass:"btn btn-info text-white mt-2",attrs:{to:"/"}},[t._v("選購去")])],1)])])]),e("a",{staticClass:"btn btn-info text-white mt-2",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.beforePath()}}},[t._v("Back")])])])])])},B=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h5",{staticClass:"my-4"},[e("b",[t._v("也許你想問")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingOne"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}},[t._v("\n\t\t\t\t          關於我們\n\t\t\t\t        ")])])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseOne","aria-labelledby":"headingOne","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[t._v("\n\t\t\t\t      \tNL Xmas Store是一個神秘的購物平台。"),e("br"),t._v("一年只營業12月25日這一天，也許老闆真的是聖誕老人也說不定。\n\t\t\t\t      ")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingTwo"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapseTwo","aria-expanded":"true","aria-controls":"collapseTwo"}},[t._v("\n\t\t\t\t          關於到貨時間\n\t\t\t\t        ")])])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseTwo","aria-labelledby":"headingTwo","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[t._v("\n\t\t\t\t      \t聖誕老人會在12月25日~12月26日把你購買的物品放到襪子裡"),e("br"),t._v("沒收到？也許你該問問爸媽在幹嘛\n\t\t\t\t      ")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card-header",attrs:{id:"headingThree"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapseThree","aria-expanded":"true","aria-controls":"collapseThree"}},[t._v("\n\t\t\t\t          商品指南\n\t\t\t\t        ")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card-header",attrs:{id:"headingFour"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapseFour","aria-expanded":"true","aria-controls":"collapseFour"}},[t._v("\n\t\t\t\t          老闆想說的話\n\t\t\t\t        ")])])])}],H={data:function(){return{}},methods:{beforePath:function(){this.$router.back()}}},z=H,J=(e("2a57"),Object(o["a"])(z,X,B,!1,null,null,null));J.options.__file="Faq.vue";var Q=J.exports,V=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("div",{staticClass:"row justify-content-center mt-4 mb-0 mb-md-4"},[e("div",{staticClass:"col-md-10"},[t._m(0),e("div",{staticClass:"row justify-content-center mt-4 text-center"},[e("div",{staticClass:"col-md-4"},[e("span",{staticClass:"step",class:{"current-step":1==t.step}},[t._v("1. 確認購買清單")])]),e("div",{staticClass:"col-md-4"},[e("span",{staticClass:"step",class:{"current-step":2==t.step}},[t._v("2. 填寫收件資料")])]),e("div",{staticClass:"col-md-4"},[e("span",{staticClass:"step",class:{"current-step":3==t.step}},[t._v("3. 完成訂單！")])])])])]),1==t.step?e("div",{staticClass:"row justify-content-center mb-4"},[e("div",{staticClass:"col-md-10"},[e("table",{staticClass:"table mt-4"},[e("thead",[t.cartEmpty?t._e():e("th",{staticClass:"text-center"},[e("div",{staticClass:"u-clear text-danger",on:{click:function(a){t.removeAllCart()}}},[e("i",{staticClass:"far fa-trash-alt mr-1"}),e("b",{staticClass:"d-none d-md-inline-block"},[t._v("全部清空")])])]),e("th",[t._v("商品")]),e("th",[t._v("數量")]),t.cart.final_total!==t.cart.total?e("th",[t._v("折扣價")]):e("th",{staticClass:"text-right"},[t._v("售價")])]),e("tbody",[t.cartEmpty?e("tr",[t._v("購物車還沒有東西哦！")]):t._e(),t._l(t.cart.carts,function(a,s){return e("tr",{key:s},[e("td",{staticClass:"align-middle text-center"},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){t.removeCart(a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})])]),e("td",{staticClass:"align-middle"},[t._v("\n\t\t\t        "+t._s(a.product.title)+"\n\t\t\t        "),a.coupon?e("div",{staticClass:"text-success"},[t._v("已套用優惠券\t")]):t._e()]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+t._s(a.product.unit))]),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currency")(a.final_total)))])])})],2),t.cartEmpty?t._e():e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計金額")]),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.cart.total)))])]),t.cart.final_total!==t.cart.total?e("tr",[e("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v("折扣後金額")]),e("td",{staticClass:"text-right text-success"},[t._v(t._s(t._f("currency")(t.cart.final_total)))])]):t._e(),t._m(1)])]),t.cartEmpty?t._e():e("div",{staticClass:"input-group mb-3 input-group-sm"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control py-2 pl-3",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.coupon_code},on:{input:function(a){a.target.composing||(t.coupon_code=a.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.addCoupon}},[t._v("套用優惠碼")])])])])]):t._e(),2==t.step?e("div",{staticClass:"row justify-content-center mb-4"},[e("div",{staticClass:"col-md-8 mb-4"},[e("div",{attrs:{id:"accordion"}},[e("div",{staticClass:"card"},[t._m(2),e("div",{staticClass:"collapse",attrs:{id:"collapseOne","aria-labelledby":"headingOne","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("table",{staticClass:"table my-2"},[e("thead",[e("th",[t._v("商品")]),e("th",{attrs:{width:"60"}},[t._v("數量")]),t.cart.final_total!==t.cart.total?e("th",{attrs:{"min-width":"60"}},[t._v("折扣價")]):e("th",{staticClass:"text-right",attrs:{"min-width":"60"}},[t._v("售價")])]),e("tbody",t._l(t.cart.carts,function(a,s){return e("tr",{key:s},[e("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+t._s(a.product.unit))]),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currency")(a.final_total)))])])})),e("tfoot",[e("tr",{staticClass:"text-danger"},[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t.cart.final_total==t.cart.total?e("span",[t._v("總計金額")]):e("span",[t._v("折扣後金額")])]),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.cart.final_total)))])])])])])])])])]),e("form",{staticClass:"col-md-8"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useremail"}},[t._v("Email")]),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("email")},attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:t.form.user.email},on:{input:function(a){a.target.composing||t.$set(t.form.user,"email",a.target.value)}}}),t.errors.has("email")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("email")))]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(a){a.target.composing||t.$set(t.form.user,"name",a.target.value)}}}),t.errors.has("name")?e("span",{staticClass:"text-danger"},[t._v("姓名欄位不可空白")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",attrs:{type:"tel",id:"usertel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(a){a.target.composing||t.$set(t.form.user,"tel",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{type:"address",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(a){a.target.composing||t.$set(t.form.user,"address",a.target.value)}}}),t.errors.has("address")?e("span",{staticClass:"text-danger"},[t._v("地址欄位不可空白")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useraddress"}},[t._v("留言")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(a){a.target.composing||t.$set(t.form,"message",a.target.value)}}})])])]):t._e(),3==t.step?e("div",{staticClass:"my-5 row justify-content-center"},[e("form",{staticClass:"col-md-6",on:{submit:function(a){return a.preventDefault(),t.payOrder(a)}}},[e("table",{staticClass:"table"},[t._m(3),e("tbody",t._l(t.order.products,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(a.final_total))])])})),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),e("td",{staticClass:"text-right"},[t._v(t._s(t.order.total))])])])]),e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("th",[t._v("Email")]),e("td",[t._v(t._s(t.order.user.email))])]),e("tr",[e("th",[t._v("姓名")]),e("td",[t._v(t._s(t.order.user.name))])]),e("tr",[e("th",[t._v("收件人電話")]),""==t.order.user.tel?e("td",[t._v("未填寫")]):e("td",[t._v(t._s(t.order.user.tel))])]),e("tr",[e("th",[t._v("收件人地址")]),e("td",[t._v(t._s(t.order.user.address))])]),e("tr",[e("th",[t._v("付款狀態")]),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v("付款完成")]):e("span",[t._v("尚未付款")])])])])]),!1===t.order.is_paid?e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-danger"},[t._v("確認付款去")])]):t._e()])]):t._e(),e("div",{staticClass:"row justify-content-center my-4"},[0!==t.cart.total?e("div",{staticClass:"col-md-6 order-md-2 u-orderbtn-step"},[2==t.step?e("button",{staticClass:"btn btn-info d-block mr-2",attrs:{type:"button"},on:{click:function(a){t.stepChange("prev")}}},[t._v("\n\t\t\t\t上一步\n\t\t\t")]):t._e(),1==t.step?e("button",{staticClass:"btn btn-info d-block",attrs:{type:"button"},on:{click:function(a){t.stepChange()}}},[t._v("\n\t\t\t\t下一步：填寫收件資料\n\t\t\t")]):t._e(),2==t.step?e("button",{staticClass:"btn btn-danger d-block",attrs:{type:"button"},on:{click:function(a){t.createOrder()}}},[t._v("\n\t\t\t\t下一步：完成訂單！\n\t\t\t")]):t._e()]):t._e(),e("div",{staticClass:"order-md-1 u-orderbtn-shop",class:{"col-md-4":0!==t.cart.total}},[e("router-link",{staticClass:"nav-item btn btn-outline-info d-inline-block",attrs:{to:"/"}},[t._v(" << 我要繼續逛")])],1)])],1)},W=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h3",{staticClass:"text-center"},[e("b",[t._v("購物車清單")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-primary font-weight-bold",attrs:{colspan:"4"}},[e("i",{staticClass:"fab fa-angellist"}),e("i",{staticClass:"fab fa-angellist"}),e("i",{staticClass:"fab fa-angellist"}),t._v("\n\t\t\t      \t首次購物享有免運費優惠！\n\t\t\t      ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card-header",attrs:{id:"headingOne"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}},[t._v("查看購物車明細")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",[t._v("品名")]),e("th",[t._v("數量")]),e("th",[t._v("單價")])])}],Y={data:function(){return{step:1,coupon_code:"",form:{user:{name:"",email:"",tel:"",address:""},message:""},orderId:"",order:{user:{name:"",email:"",tel:"",address:""}}}},methods:Object(C["a"])({},Object(u["b"])(["getCart","removeAllCart"]),{removeCart:function(t){this.$store.dispatch("removeCart",t)},addCoupon:function(){this.$store.dispatch("addCoupon",this.coupon_code)},stepChange:function(t){var a=this;document.body.scrollTop=0,document.documentElement.scrollTop=0,1==a.step?a.step=2:"prev"==t?a.step-=1:a.step+=1},createOrder:function(){var t=this,a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("noelstore","/order"),s=a.form;this.$validator.validate().then(function(r){r?t.$http.post(e,{data:s}).then(function(t){t.data.success?(a.step=3,a.orderId=t.data.orderId,a.getOrder(),a.$store.dispatch("getCart"),alert("訂單已建立!")):alert("訂單建立失敗!")}):alert("訂單欄位不完整")})},getOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("noelstore","/order/").concat(t.orderId);this.$http.get(a).then(function(a){t.order=a.data.order})},payOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("noelstore","/pay/").concat(t.orderId);this.$http.post(a).then(function(a){a.data.success&&t.getOrder()})}}),computed:Object(C["a"])({},Object(u["c"])(["cart","isLoading"]),{cartEmpty:function(){return 0==this.cart.carts.length}}),created:function(){this.getCart()}},K=Y,Z=(e("57c9"),Object(o["a"])(K,V,W,!1,null,null,null));Z.options.__file="CreateOrder.vue";var tt=Z.exports;s["a"].use(f["a"]);var at=new f["a"]({routes:[{path:"/",name:"Home",component:w,children:[{path:"",name:"Shop",component:L},{path:"/allitem",name:"AllItem",component:q},{path:"product/:itemId",name:"SingleItem",component:R},{path:"faq",name:"Faq",component:Q},{path:"createOrder",name:"CreateOrder",component:tt}]}]}),et=(e("a481"),e("c5f6"),function(t){var a=Number(t);return"$".concat(a.toFixed(0).replace(/./g,function(t,a,e){var s=a&&"."!==t&&(e.length-a)%3===0?", ".concat(t).replace(/\s/g,""):t;return s}))}),st=(e("4989"),e("a7fe")),rt=e.n(st),it=e("7bb1"),nt=e("427f"),ct=e.n(nt),ot=e("9062"),lt=e.n(ot);e("e40d");p.a.defaults.withCredentials=!0,s["a"].config.productionTip=!1,s["a"].filter("currency",et),s["a"].component("Loading",lt.a),s["a"].use(rt.a,p.a),s["a"].use(it["a"]),it["a"].Validator.localize("zh_TW",ct.a),s["a"].use(u["a"]),new s["a"]({store:m,router:at,render:function(t){return t(d)}}).$mount("#app")},"57c9":function(t,a,e){"use strict";var s=e("b7ca"),r=e.n(s);r.a},"5c0b":function(t,a,e){"use strict";var s=e("5e27"),r=e.n(s);r.a},"5cf4":function(t,a,e){t.exports=e.p+"img/cs1.285070fa.jpg"},"5e27":function(t,a,e){},"88fe":function(t,a,e){},"9e68":function(t,a,e){"use strict";var s=e("f279"),r=e.n(s);r.a},a1d8:function(t,a,e){},ace4:function(t,a,e){"use strict";var s=e("a1d8"),r=e.n(s);r.a},b7ca:function(t,a,e){},cccb:function(t,a,e){"use strict";var s=e("d563"),r=e.n(s);r.a},d563:function(t,a,e){},e658:function(t,a,e){t.exports=e.p+"img/cs2.533d5c80.jpg"},f279:function(t,a,e){}});
//# sourceMappingURL=app.770f85b8.js.map